<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USAR Ranklist | Student Rankings</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéì</text></svg>">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* ========================================
           USAR Ranklist - Modern CSS
           ======================================== */

        /* CSS Variables */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #0ea5e9;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --purple: #8b5cf6;
            
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
            
            --bg-primary: #f8fafc;
            --bg-card: #ffffff;
            --bg-dark: #0f172a;
            
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-secondary: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%);
            --gradient-dark: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            
            --radius-sm: 6px;
            --radius: 10px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--gray-800);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Navbar */
        .navbar-custom {
            background: var(--bg-card);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            border-bottom: 1px solid var(--gray-100);
        }

        .navbar-custom .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--gray-900);
        }

        .brand-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient-primary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }

        .brand-text { display: flex; flex-direction: column; }
        .brand-name { font-weight: 700; font-size: 1.25rem; color: var(--gray-900); }
        .brand-tagline { font-size: 0.75rem; color: var(--gray-500); font-weight: 500; }

        .nav-links { display: flex; gap: 8px; }

        .nav-link-item {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-600);
            background: var(--gray-100);
            border-radius: var(--radius);
            text-decoration: none;
            transition: var(--transition);
        }

        .nav-link-item:hover { background: var(--gray-200); color: var(--gray-900); }

        /* Hero Section */
        .hero-section {
            background: var(--gradient-primary);
            padding: 4rem 0 6rem;
            position: relative;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .hero-content { position: relative; text-align: center; color: white; }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        .hero-title { font-size: 3rem; font-weight: 800; margin-bottom: 1rem; letter-spacing: -0.02em; }

        .gradient-text {
            background: linear-gradient(135deg, #fff 0%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle { font-size: 1.125rem; opacity: 0.9; margin-bottom: 2rem; font-weight: 400; }

        .hero-stats {
            display: inline-flex;
            align-items: center;
            gap: 2rem;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            border-radius: var(--radius-lg);
        }

        .hero-stat { display: flex; flex-direction: column; align-items: center; }
        .hero-stat .stat-num { font-size: 1.5rem; font-weight: 700; }
        .hero-stat .stat-text { font-size: 0.75rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.05em; }
        .hero-stat-divider { width: 1px; height: 40px; background: rgba(255, 255, 255, 0.3); }

        .hero-wave { position: absolute; bottom: 0; left: 0; right: 0; line-height: 0; }
        .hero-wave svg { width: 100%; height: auto; }

        /* Main Content */
        .main-content { flex: 1; padding: 2rem 0; margin-top: -2rem; position: relative; z-index: 10; }

        /* Filter Card */
        .filter-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .filter-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.25rem 1.5rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-100);
        }

        .filter-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient-primary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.125rem;
        }

        .filter-title { font-size: 1.125rem; font-weight: 600; color: var(--gray-900); margin: 0; }
        .filter-subtitle { font-size: 0.875rem; color: var(--gray-500); margin: 0; }
        .filter-body { padding: 1.5rem; }
        .filter-group { display: flex; flex-direction: column; gap: 8px; }

        .filter-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--gray-600);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-label i { font-size: 0.75rem; color: var(--gray-400); }

        .filter-select {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--gray-800);
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.25rem;
            padding-right: 2.5rem;
        }

        .filter-select:hover { border-color: var(--gray-300); }
        .filter-select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15); }

        .filter-buttons { display: flex; gap: 8px; }

        .btn-search {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0.75rem 1.5rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-search:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); }

        .btn-export {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-100);
            color: var(--gray-600);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-export:hover { background: var(--success); color: white; border-color: var(--success); }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 2rem; }

        .stat-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .stat-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }

        .stat-card .stat-icon {
            width: 56px;
            height: 56px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .stat-primary .stat-icon { background: var(--gradient-primary); }
        .stat-success .stat-icon { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .stat-warning .stat-icon { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .stat-purple .stat-icon { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }

        .stat-info { display: flex; flex-direction: column; }
        .stat-card .stat-value { font-size: 1.5rem; font-weight: 700; color: var(--gray-900); }
        .stat-card .stat-label { font-size: 0.8rem; color: var(--gray-500); font-weight: 500; }

        /* Table Card */
        .table-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem 1.5rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-100);
        }

        .table-title { display: flex; align-items: center; gap: 10px; font-size: 1.125rem; font-weight: 600; color: var(--gray-900); }
        .table-title i { color: var(--primary); }

        .table-badge {
            background: var(--primary);
            color: white;
            padding: 6px 12px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .ranklist-table { width: 100%; border-collapse: collapse; }
        .ranklist-table thead { background: var(--gray-50); }

        .ranklist-table th {
            padding: 1rem 1.25rem;
            text-align: left;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--gray-200);
        }

        .ranklist-table td {
            padding: 1rem 1.25rem;
            font-size: 0.9rem;
            color: var(--gray-700);
            border-bottom: 1px solid var(--gray-100);
        }

        .ranklist-table tbody tr { transition: var(--transition); cursor: pointer; }
        .ranklist-table tbody tr:hover { background: var(--gray-50); }
        .ranklist-table tbody tr:last-child td { border-bottom: none; }

        /* Rank Badges */
        .rank-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 36px;
            height: 36px;
            padding: 0 8px;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 0.9rem;
            background: var(--gray-100);
            color: var(--gray-600);
        }

        .rank-1 { background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: white; font-size: 1.25rem; }
        .rank-2 { background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%); color: white; font-size: 1.125rem; }
        .rank-3 { background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); color: white; font-size: 1.125rem; }

        /* Branch Badges */
        .branch-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }

        .branch-AIDS { background: #dbeafe; color: #1d4ed8; }
        .branch-AIML { background: #fce7f3; color: #be185d; }
        .branch-IIOT { background: #cffafe; color: #0891b2; }
        .branch-AR { background: #dcfce7; color: #15803d; }

        /* SGPA & Percentage Badges */
        .sgpa-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 50px;
            padding: 6px 12px;
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            color: #15803d;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 0.9rem;
        }

        .percentage-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            padding: 6px 12px;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            color: #4338ca;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 0.9rem;
        }

        .student-name { font-weight: 600; color: var(--gray-900); }
        .student-roll { font-family: 'SF Mono', 'Consolas', monospace; font-size: 0.85rem; color: var(--gray-600); }

        /* Empty State */
        .empty-state { padding: 4rem 2rem; text-align: center; }

        .empty-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            background: var(--gray-100);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--gray-400);
        }

        .empty-state h5 { font-size: 1.25rem; font-weight: 600; color: var(--gray-800); margin-bottom: 0.5rem; }
        .empty-state p { color: var(--gray-500); font-size: 0.9rem; }

        /* Disclaimer Card */
        .disclaimer-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.25rem 1.5rem;
            background: #fef3c7;
            border: 1px solid #fcd34d;
            border-radius: var(--radius-lg);
            margin-bottom: 2rem;
        }

        .disclaimer-icon {
            width: 40px;
            height: 40px;
            background: #f59e0b;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .disclaimer-content h6 { font-size: 1rem; font-weight: 600; color: #92400e; margin-bottom: 4px; }
        .disclaimer-content p { font-size: 0.875rem; color: #a16207; margin: 0; line-height: 1.5; }

        /* Footer */
        .footer { background: var(--gradient-dark); color: white; margin-top: auto; }
        .footer-main { padding: 4rem 0 3rem; }

        .footer-brand { display: flex; align-items: center; gap: 12px; margin-bottom: 1.25rem; }

        .footer-brand-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .footer-brand h4 { font-size: 1.25rem; font-weight: 700; margin: 0; }
        .footer-brand p { font-size: 0.8rem; color: var(--gray-400); margin: 0; }
        .footer-text { font-size: 0.9rem; color: var(--gray-400); line-height: 1.7; margin-bottom: 1rem; }
        .footer-credit { font-size: 0.8rem; color: var(--gray-500); }
        .footer-credit a { color: var(--primary-light); text-decoration: none; }
        .footer-credit a:hover { text-decoration: underline; }

        .footer-heading {
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1.25rem;
            color: white;
        }

        .footer-links { list-style: none; padding: 0; margin: 0; }
        .footer-links li { margin-bottom: 0.75rem; }

        .footer-links a {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--gray-400);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .footer-links a:hover { color: white; transform: translateX(4px); }
        .footer-links a i { font-size: 0.8rem; width: 16px; }

        /* Developer Card */
        .developer-card { display: flex; align-items: center; gap: 12px; margin-bottom: 1.25rem; }

        .developer-avatar {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .developer-info h6 { font-size: 1rem; font-weight: 600; margin: 0; }
        .developer-info p { font-size: 0.8rem; color: var(--gray-400); margin: 0; }

        .footer-social { display: flex; gap: 10px; }

        .social-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius);
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .social-btn.github { background: #333; }
        .social-btn.website { background: var(--primary); }
        .social-btn.linkedin { background: #0077b5; }
        .social-btn:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); }

        /* Footer Bottom */
        .footer-bottom {
            padding: 1.5rem 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
        }

        .footer-bottom-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .copyright { font-size: 0.875rem; color: var(--gray-400); margin: 0; }
        .copyright .heart { color: #ef4444; animation: heartbeat 1.5s infinite; }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .copyright-year { font-size: 0.8rem; color: var(--gray-500); margin: 0; }

        /* Modal */
        .custom-modal { border: none; border-radius: var(--radius-lg); overflow: hidden; }
        .custom-modal .modal-header { background: var(--gradient-primary); color: white; padding: 1.25rem 1.5rem; border: none; }
        .modal-title-wrapper { display: flex; align-items: center; gap: 10px; }
        .modal-title-wrapper i { font-size: 1.25rem; }

        .btn-close-custom {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: var(--radius);
            color: white;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-close-custom:hover { background: rgba(255, 255, 255, 0.3); }
        .custom-modal .modal-body { padding: 1.5rem; }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .hero-stats { flex-direction: column; gap: 1rem; padding: 1.5rem; }
            .hero-stat-divider { width: 60px; height: 1px; }
            .stats-grid { grid-template-columns: 1fr; }
            .filter-buttons { flex-direction: column; }
            .btn-export { width: 100%; }
            .footer-bottom-content { flex-direction: column; text-align: center; }
            .ranklist-table th, .ranklist-table td { padding: 0.75rem; font-size: 0.8rem; }
        }

        @media (max-width: 576px) {
            .hero-section { padding: 2.5rem 0 4rem; }
            .hero-title { font-size: 1.75rem; }
            .filter-header { flex-direction: column; text-align: center; }
            .developer-card { justify-content: center; }
            .footer-social { justify-content: center; }
        }

        .text-center { text-align: center; }
        .text-muted { color: var(--gray-500); }
        .mb-0 { margin-bottom: 0; }
        .mb-4 { margin-bottom: 1.5rem; }
        .mt-2 { margin-top: 0.5rem; }
        .py-4 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
        .row { display: flex; flex-wrap: wrap; margin: -0.5rem; }
        .col-lg-2, .col-lg-3, .col-lg-4, .col-md-4, .col-md-6, .col-4 { padding: 0.5rem; }
        .col-4 { width: 33.333%; }
        .col-md-4 { width: 33.333%; }
        .col-md-6 { width: 50%; }
        .col-lg-2 { width: 16.666%; }
        .col-lg-3 { width: 25%; }
        .col-lg-4 { width: 33.333%; }
        .g-3 { gap: 1rem; }

        @media (max-width: 992px) {
            .col-lg-2, .col-lg-3, .col-lg-4 { width: 50%; }
        }

        @media (max-width: 768px) {
            .col-md-4, .col-md-6 { width: 100%; }
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar-custom">
        <div class="container">
            <a class="navbar-brand" href="/">
                <div class="brand-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="brand-text">
                    <span class="brand-name">USAR Ranklist</span>
                    <span class="brand-tagline">Draft v1.0</span>
                </div>
            </a>
            <div class="nav-links">
                <a href="https://github.com/Waqar080206/usar-ranklist" target="_blank" class="nav-link-item">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-bg"></div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fas fa-chart-line"></i>
                    <span>Real-time Rankings</span>
                </div>
                <h1 class="hero-title">
                    Student <span class="gradient-text">Ranklist</span>
                </h1>
                <p class="hero-subtitle">
                    University School of Automation & Robotics, GGSIPU
                </p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <span class="stat-num">4</span>
                        <span class="stat-text">Branches</span>
                    </div>
                    <div class="hero-stat-divider"></div>
                    <div class="hero-stat">
                        <span class="stat-num">8</span>
                        <span class="stat-text">Semesters</span>
                    </div>
                    <div class="hero-stat-divider"></div>
                    <div class="hero-stat">
                        <span class="stat-num" id="heroTotalStudents">2700+</span>
                        <span class="stat-text">Students</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-wave">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="var(--bg-primary)"/>
            </svg>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            
            <!-- Filter Card -->
            <div class="filter-card">
                <div class="filter-header">
                    <div class="filter-icon">
                        <i class="fas fa-sliders-h"></i>
                    </div>
                    <div>
                        <h5 class="filter-title">Filter Students</h5>
                        <p class="filter-subtitle">Customize your search criteria</p>
                    </div>
                </div>
                
                <div class="filter-body">
                    <div class="row g-3">
                        <div class="col-lg-3 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-code-branch"></i> Branch
                                </label>
                                <select class="filter-select" id="branchSelect">
                                    <option value="">All Branches</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-layer-group"></i> Semester
                                </label>
                                <select class="filter-select" id="semesterSelect">
                                    <option value="">All</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-calendar-alt"></i> Batch
                                </label>
                                <select class="filter-select" id="batchSelect">
                                    <option value="">All</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-sort"></i> Sort By
                                </label>
                                <select class="filter-select" id="sortSelect">
                                    <option value="sgpa">SGPA</option>
                                    <option value="percentage">Percentage</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-1 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-arrow-up-wide-short"></i> Order
                                </label>
                                <select class="filter-select" id="orderSelect">
                                    <option value="desc">‚Üì High</option>
                                    <option value="asc">‚Üë Low</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <div class="filter-group">
                                <label class="filter-label">&nbsp;</label>
                                <div class="filter-buttons">
                                    <button class="btn-search" onclick="loadRanklist()">
                                        <i class="fas fa-search"></i>
                                        <span>Search</span>
                                    </button>
                                    <button class="btn-export" onclick="exportToCSV()" title="Export CSV">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Row -->
            <div class="stats-grid" id="statsRow" style="display: none;">
                <div class="stat-card stat-primary">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="totalStudents">0</span>
                        <span class="stat-label">Total Students</span>
                    </div>
                </div>
                <div class="stat-card stat-success">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="avgSgpa">0</span>
                        <span class="stat-label">Average SGPA</span>
                    </div>
                </div>
                <div class="stat-card stat-warning">
                    <div class="stat-icon">
                        <i class="fas fa-percent"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="avgPercentage">0%</span>
                        <span class="stat-label">Average %</span>
                    </div>
                </div>
                <div class="stat-card stat-purple">
                    <div class="stat-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="topperName">-</span>
                        <span class="stat-label">Topper</span>
                    </div>
                </div>
            </div>

            <!-- Ranklist Table -->
            <div class="table-card">
                <div class="table-header">
                    <div class="table-title">
                        <i class="fas fa-list-ol"></i>
                        <span>Ranklist</span>
                    </div>
                    <div class="table-badge" id="resultCount" style="display: none;">
                        <span id="resultCountNum">0</span> results
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="ranklist-table">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 80px;">Rank</th>
                                <th style="width: 140px;">Roll No</th>
                                <th>Name</th>
                                <th style="width: 100px;">Branch</th>
                                <th class="text-center" style="width: 70px;">Sem</th>
                                <th class="text-center" style="width: 80px;">Batch</th>
                                <th class="text-center" style="width: 90px;">SGPA</th>
                                <th class="text-center" style="width: 100px;">Percentage</th>
                            </tr>
                        </thead>
                        <tbody id="ranklistBody">
                            <tr>
                                <td colspan="8">
                                    <div class="empty-state">
                                        <div class="empty-icon">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <h5>Ready to Search</h5>
                                        <p>Select filters above and click Search to view the ranklist</p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Disclaimer -->
            <div class="disclaimer-card">
                <div class="disclaimer-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="disclaimer-content">
                    <h6>Disclaimer</h6>
                    <p>This is an <strong>unofficial</strong> website. Data is sourced from publicly available IPU results. 
                    Always verify from the official IPU website. We are not responsible for any discrepancies.</p>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-main">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-brand">
                            <div class="footer-brand-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div>
                                <h4>USAR Ranklist</h4>
                                <p>GGSIPU, New Delhi</p>
                            </div>
                        </div>
                        <p class="footer-text">
                            A comprehensive platform to view and analyze student rankings 
                            for University School of Automation & Robotics.
                        </p>
                        <p class="footer-credit">
                            Inspired by <a href="https://ipuranklist.com" target="_blank">IPU Ranklist</a> 
                            by <a href="https://github.com/ankushgarg1998" target="_blank">Ankush Garg</a>
                        </p>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <h6 class="footer-heading">Quick Links</h6>
                        <ul class="footer-links">
                            <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
                            <li><a href="#" onclick="loadRanklist()"><i class="fas fa-list"></i> Ranklist</a></li>
                            <li><a href="https://github.com/Waqar080206/usar-ranklist" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h6 class="footer-heading">Branches</h6>
                        <ul class="footer-links">
                            <li><a href="#" onclick="filterBranch('AIDS')"><i class="fas fa-brain"></i> AI & Data Science</a></li>
                            <li><a href="#" onclick="filterBranch('AIML')"><i class="fas fa-robot"></i> AI & ML</a></li>
                            <li><a href="#" onclick="filterBranch('IIOT')"><i class="fas fa-network-wired"></i> Industrial IoT</a></li>
                            <li><a href="#" onclick="filterBranch('AR')"><i class="fas fa-cogs"></i> Automation & Robotics</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h6 class="footer-heading">Developer</h6>
                        <div class="developer-card">
                            <div class="developer-avatar">W</div>
                            <div class="developer-info">
                                <h6>Waqar Akhtar</h6>
                                <p>Full Stack Developer</p>
                            </div>
                        </div>
                        <div class="footer-social">
                            <a href="https://github.com/Waqar080206" target="_blank" class="social-btn github">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="https://waqar.tech" target="_blank" class="social-btn website">
                                <i class="fas fa-globe"></i>
                            </a>
                            <a href="https://linkedin.com" target="_blank" class="social-btn linkedin">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="footer-bottom-content">
                    <p class="copyright">
                        Made with <span class="heart">‚ù§Ô∏è</span> for USAR Students
                    </p>
                    <p class="copyright-year">¬© 2024-2026 USAR Ranklist</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Student Modal -->
    <div class="modal fade" id="studentModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content custom-modal">
                <div class="modal-header">
                    <div class="modal-title-wrapper">
                        <i class="fas fa-user-graduate"></i>
                        <h5 class="modal-title">Student Details</h5>
                    </div>
                    <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body" id="studentDetails">
                    <!-- Student details loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Inline JavaScript -->
    <script>
        let currentData = [];

        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ USAR Ranklist loaded');
            loadFilters();
        });

        function filterBranch(branch) {
            document.getElementById('branchSelect').value = branch;
            loadRanklist();
        }

        async function loadFilters() {
            console.log('üì• Loading filters...');
            try {
                const response = await fetch('/api/filters');
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                console.log('‚úÖ Filters response:', data);
                populateFilters(data);
                if (data.total_students) {
                    document.getElementById('heroTotalStudents').textContent = data.total_students + '+';
                }
            } catch (error) {
                console.error('‚ùå API Error:', error);
                populateFilters(getDefaultFilters());
            }
        }

        function getDefaultFilters() {
            return {
                branches: [
                    { code: "519", short: "AIDS", name: "Artificial Intelligence & Data Science" },
                    { code: "516", short: "AIML", name: "Artificial Intelligence & Machine Learning" },
                    { code: "520", short: "IIOT", name: "Industrial Internet of Things" },
                    { code: "517", short: "AR", name: "Automation & Robotics" }
                ],
                semesters: ["01", "02", "03", "04", "05", "06", "07", "08"],
                batches: ["2024", "2023", "2022", "2021"]
            };
        }

        function populateFilters(data) {
            const branchSelect = document.getElementById('branchSelect');
            if (branchSelect) {
                branchSelect.innerHTML = '<option value="">All Branches</option>';
                const branches = data.branches || getDefaultFilters().branches;
                branches.forEach(branch => {
                    const option = document.createElement('option');
                    option.value = branch.short;
                    option.textContent = `${branch.short} - ${branch.name}`;
                    branchSelect.appendChild(option);
                });
            }
            
            const semesterSelect = document.getElementById('semesterSelect');
            if (semesterSelect) {
                semesterSelect.innerHTML = '<option value="">All</option>';
                const semesters = data.semesters || getDefaultFilters().semesters;
                semesters.forEach(sem => {
                    const option = document.createElement('option');
                    option.value = sem;
                    option.textContent = `Sem ${parseInt(sem)}`;
                    semesterSelect.appendChild(option);
                });
            }
            
            const batchSelect = document.getElementById('batchSelect');
            if (batchSelect) {
                batchSelect.innerHTML = '<option value="">All</option>';
                const batches = data.batches || getDefaultFilters().batches;
                batches.forEach(batch => {
                    const option = document.createElement('option');
                    option.value = batch;
                    option.textContent = batch;
                    batchSelect.appendChild(option);
                });
            }
            console.log('‚úÖ Filters populated');
        }

        async function loadRanklist() {
            const branch = document.getElementById('branchSelect').value;
            const semester = document.getElementById('semesterSelect').value;
            const batch = document.getElementById('batchSelect').value;
            const sortBy = document.getElementById('sortSelect').value;
            const order = document.getElementById('orderSelect').value;
            
            let url = `/api/ranklist?sort_by=${sortBy}&order=${order}`;
            if (branch) url += `&branch=${branch}`;
            if (semester) url += `&semester=${semester}`;
            if (batch) url += `&batch=${batch}`;
            
            console.log('üì• Fetching:', url);
            
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                console.log('‚úÖ Ranklist:', data.total, 'students');
                currentData = data.ranklist || [];
                displayRanklist(data);
                displayStats(data);
            } catch (error) {
                console.error('‚ùå Error:', error);
                alert('Failed to load ranklist');
            }
        }

        function displayRanklist(data) {
            const tbody = document.getElementById('ranklistBody');
            const ranklist = data.ranklist || [];
            const resultCount = document.getElementById('resultCount');
            const resultCountNum = document.getElementById('resultCountNum');
            
            if (ranklist.length === 0) {
                tbody.innerHTML = `
                    <tr><td colspan="8">
                        <div class="empty-state">
                            <div class="empty-icon"><i class="fas fa-search"></i></div>
                            <h5>No Results Found</h5>
                            <p>Try adjusting your filters to find students</p>
                        </div>
                    </td></tr>`;
                resultCount.style.display = 'none';
                document.getElementById('statsRow').style.display = 'none';
                return;
            }
            
            resultCount.style.display = 'inline-flex';
            resultCountNum.textContent = ranklist.length;
            
            tbody.innerHTML = ranklist.map(student => {
                const rankDisplay = student.rank === 1 ? 'ü•á' : student.rank === 2 ? 'ü•à' : student.rank === 3 ? 'ü•â' : student.rank;
                const rankClass = student.rank <= 3 ? `rank-${student.rank}` : '';
                const sgpa = typeof student.sgpa === 'number' ? student.sgpa.toFixed(2) : student.sgpa;
                const percentage = typeof student.percentage === 'number' ? student.percentage.toFixed(2) : student.percentage;
                
                return `
                    <tr onclick="viewStudent('${student.roll_no}')">
                        <td class="text-center"><span class="rank-badge ${rankClass}">${rankDisplay}</span></td>
                        <td><span class="student-roll">${student.roll_no}</span></td>
                        <td><span class="student-name">${student.name}</span></td>
                        <td><span class="branch-badge branch-${student.branch}">${student.branch}</span></td>
                        <td class="text-center">${parseInt(student.semester)}</td>
                        <td class="text-center">${student.batch}</td>
                        <td class="text-center"><span class="sgpa-badge">${sgpa}</span></td>
                        <td class="text-center"><span class="percentage-badge">${percentage}%</span></td>
                    </tr>`;
            }).join('');
        }

        function displayStats(data) {
            const ranklist = data.ranklist || [];
            if (ranklist.length === 0) {
                document.getElementById('statsRow').style.display = 'none';
                return;
            }
            const sgpas = ranklist.map(s => s.sgpa).filter(s => s > 0);
            const percentages = ranklist.map(s => s.percentage).filter(p => p > 0);
            const avgSgpa = sgpas.length > 0 ? (sgpas.reduce((a, b) => a + b, 0) / sgpas.length).toFixed(2) : '0.00';
            const avgPercentage = percentages.length > 0 ? (percentages.reduce((a, b) => a + b, 0) / percentages.length).toFixed(2) : '0.00';
            
            document.getElementById('statsRow').style.display = 'grid';
            document.getElementById('totalStudents').textContent = ranklist.length;
            document.getElementById('avgSgpa').textContent = avgSgpa;
            document.getElementById('avgPercentage').textContent = avgPercentage + '%';
            document.getElementById('topperName').textContent = ranklist[0] ? ranklist[0].name.split(' ')[0] : '-';
        }

        async function viewStudent(rollNo) {
            try {
                const response = await fetch(`/api/student/${rollNo}`);
                if (!response.ok) { alert('Student not found'); return; }
                const student = await response.json();
                const sgpa = typeof student.sgpa === 'number' ? student.sgpa.toFixed(2) : student.sgpa;
                const percentage = typeof student.percentage === 'number' ? student.percentage.toFixed(2) : student.percentage;
                
                document.getElementById('studentDetails').innerHTML = `
                    <div class="text-center mb-4">
                        <div style="width: 80px; height: 80px; background: var(--gradient-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 2rem; color: white;">${student.name.charAt(0)}</div>
                        <h4 style="margin-bottom: 4px; font-weight: 700;">${student.name}</h4>
                        <p style="color: var(--gray-500); font-family: monospace;">${student.roll_no}</p>
                    </div>
                    <div class="row g-3 mb-4">
                        <div class="col-4">
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: var(--radius); text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">${sgpa}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-500);">SGPA</div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: var(--radius); text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">${percentage}%</div>
                                <div style="font-size: 0.75rem; color: var(--gray-500);">Percentage</div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: var(--radius); text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">${student.credits || 0}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-500);">Credits</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: var(--gray-50); padding: 1rem; border-radius: var(--radius);">
                        <p style="margin-bottom: 8px;"><strong>Branch:</strong> ${student.branch_name || student.branch}</p>
                        <p style="margin-bottom: 8px;"><strong>Semester:</strong> ${student.semester}</p>
                        <p style="margin-bottom: 0;"><strong>Batch:</strong> ${student.batch}</p>
                    </div>`;
                
                new bootstrap.Modal(document.getElementById('studentModal')).show();
            } catch (error) {
                console.error('‚ùå Error:', error);
                alert('Failed to load student details');
            }
        }

        function exportToCSV() {
            if (!currentData || currentData.length === 0) {
                alert('No data to export. Please load ranklist first.');
                return;
            }
            const headers = ['Rank', 'Roll No', 'Name', 'Branch', 'Semester', 'Batch', 'SGPA', 'Percentage'];
            const rows = currentData.map(s => [
                s.rank, s.roll_no, s.name, s.branch, s.semester, s.batch,
                typeof s.sgpa === 'number' ? s.sgpa.toFixed(2) : s.sgpa,
                typeof s.percentage === 'number' ? s.percentage.toFixed(2) : s.percentage
            ]);
            let csv = headers.join(',') + '\n';
            rows.forEach(row => { csv += row.map(val => `"${val}"`).join(',') + '\n'; });
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'USAR_Ranklist.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>